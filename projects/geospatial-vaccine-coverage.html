<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Project 04 - Geo-Spatial Modelling of Vaccine Coverage</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Mono:wght@300;400;500&family=Instrument+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../css/project-detail.css">
</head>
<body>
<div class="page">
  <header class="project-header">
    <a class="back-link" href="../index.html#projects">Back to Projects</a>
    <div class="hero-block">
      <p class="kicker">Project 04 · Completed · Geospatial Vaccine Modelling</p>
      <h1>Geo-Spatial Modelling of Vaccine Coverage</h1>
      <p class="lead">Cluster-level NFHS-4 and NFHS-5 Bayesian geospatial pipeline with INLA-SPDE and spGLM, including explicit maternal recall sensitivity (MR=0 vs MR=1), uncertainty mapping, and dropout-focused planning outputs.</p>
      <div class="meta-row">
        <span class="pill">NFHS-4 / NFHS-5</span>
        <span class="pill">INLA-SPDE</span>
        <span class="pill">spGLM</span>
        <span class="pill">MR Sensitivity</span>
      </div>
    </div>
  </header>

  <main class="content">
    <section class="card recap-card">
      <h2>Project Recap</h2>
      <p class="recap-intro">Tap a floating bubble to open a quick answer popup.</p>

      <div class="bubble-legend" aria-label="Bubble category legend">
        <span class="legend-chip legend-basic">Basic</span>
        <span class="legend-chip legend-method">Method</span>
        <span class="legend-chip legend-interpretation">Interpretation</span>
      </div>

      <div class="fact-bubble-board" id="factBubbleBoard" aria-label="Project fact bubbles"></div>

      <div class="recap-panel">
        <h3>Pipeline Outputs</h3>
        <p class="output-graph-sub">What the modeling pipeline produces for policy and program action</p>
        <div class="output-graph" role="group" aria-label="Pipeline outputs graph">
          <svg class="output-links" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true">
            <defs>
              <marker id="outputArrow" markerWidth="6" markerHeight="6" refX="5.2" refY="3" orient="auto">
                <path d="M0,0 L6,3 L0,6 Z" fill="rgba(200,82,42,0.68)"></path>
              </marker>
            </defs>
            <line x1="50" y1="50" x2="18" y2="18"></line>
            <line x1="50" y1="50" x2="50" y2="12"></line>
            <line x1="50" y1="50" x2="82" y2="18"></line>
            <line x1="50" y1="50" x2="18" y2="84"></line>
            <line x1="50" y1="50" x2="82" y2="84"></line>
          </svg>

          <div class="output-hub">
            <p>Spatial Bayesian Pipeline</p>
            <small>DHS/NFHS clusters -> raster predictions</small>
          </div>

          <article class="output-node output-node--coverage">
            <h4>Coverage Surfaces</h4>
            <p>Continuous vaccination coverage maps</p>
          </article>

          <article class="output-node output-node--uncertainty">
            <h4>Uncertainty Layers</h4>
            <p>Posterior standard deviation layers</p>
          </article>

          <article class="output-node output-node--dropout">
            <h4>Dropout Mapping</h4>
            <p>Multi-dose dropout maps</p>
          </article>

          <article class="output-node output-node--state">
            <h4>State Diagnostics</h4>
            <p>State-level evaluation summaries</p>
          </article>

          <article class="output-node output-node--scenario">
            <h4>Scenario Contrast</h4>
            <p>Card-only vs card + maternal recall comparisons</p>
          </article>
        </div>
      </div>

      <div class="quiz-wrap" id="recapQuiz">
        <h3>Quick Insight Quiz</h3>
        <p class="quiz-progress" id="quizProgress"></p>
        <p class="quiz-question" id="quizQuestion"></p>
        <div class="quiz-options" id="quizOptions"></div>
        <p class="quiz-feedback" id="quizFeedback"></p>
        <div class="quiz-actions">
          <button class="lab-btn" id="quizNext" type="button" disabled>Next</button>
          <button class="lab-btn" id="quizRestart" type="button" hidden>Restart Quiz</button>
        </div>
      </div>

      <p class="recap-close">This framework moves beyond aggregate coverage metrics to deliver localized, uncertainty-calibrated insights for targeted immunization action.</p>
    </section>

    <div class="fact-popup" id="factPopup" aria-hidden="true">
      <button class="fact-popup-backdrop" id="factPopupBackdrop" type="button" aria-label="Close popup"></button>
      <section class="fact-popup-card" role="dialog" aria-modal="true" aria-labelledby="factPopupTitle">
        <button class="fact-popup-close" id="factPopupClose" type="button" aria-label="Close">&times;</button>
        <p class="fact-popup-tag" id="factPopupTag"></p>
        <h3 id="factPopupTitle"></h3>
        <p class="fact-popup-prompt" id="factPopupPrompt"></p>
        <div class="fact-popup-options" id="factPopupOptions"></div>
        <p class="fact-popup-result" id="factPopupResult"></p>

        <div class="fact-popup-answer" id="factPopupAnswer" hidden>
          <p class="fact-popup-text" id="factPopupText"></p>
          <ul class="fact-popup-bullets" id="factPopupBullets"></ul>
        </div>
      </section>
    </div>

    <section class="card" id="mesh-lab">
      <h2>2) Interactive Mesh and Sensitivity Lab</h2>
      <p>Use this lab to test how modelling choices change spatial fit, uncertainty, and interpretation in real time.</p>
      <p>The point layer is built from child-level vaccination responses linked with mapped survey clusters for children aged 12-23 months who were alive at interview. Vaccination status is computed from documented card evidence and, when selected, maternal recall.</p>
      <p>State boundaries come from official geographic polygons. Child records and cluster coordinates are joined through the shared cluster identifier, then summarized into cluster-level vaccinated versus unvaccinated counts for each survey round.</p>

      <div class="lab-guide">
        <p class="lab-guide-intro">Click a quick question to see what each control changes and how that impacts interpretation.</p>
        <div class="lab-guide-legend" aria-label="Lab impact categories">
          <span class="lab-guide-key lab-guide-key--data">Data</span>
          <span class="lab-guide-key lab-guide-key--model">Model</span>
          <span class="lab-guide-key lab-guide-key--mesh">Mesh</span>
          <span class="lab-guide-key lab-guide-key--action">Action</span>
        </div>
        <div class="lab-guide-chips" id="labGuideChips"></div>
      </div>

      <div class="lab-grid">
        <div class="lab-controls">
          <label class="lab-label">State
            <select id="stateSelect">
              <option value="">Loading all NFHS states...</option>
            </select>
          </label>

          <label class="lab-label">Survey
            <select id="surveySelect">
              <option value="NFHS5">NFHS5 (2019-2021)</option>
              <option value="NFHS4">NFHS4 (2015-2016)</option>
            </select>
          </label>

          <label class="lab-label">Model Family
            <select id="modelSelect">
              <option value="inla">INLA-SPDE</option>
              <option value="spglm">spGLM</option>
            </select>
          </label>

          <label class="lab-label">Data Source Regime
            <select id="mrSelect">
              <option value="mr1">Card + Maternal Recall (MR=1)</option>
              <option value="mr0">Card Only (MR=0)</option>
            </select>
          </label>

          <label class="lab-label">Vaccine (Actual 0/1 Layer)
            <select id="vaccineSelect">
              <option value="MCV1">MCV1</option>
              <option value="BCG">BCG</option>
              <option value="DPT3">DPT3</option>
            </select>
          </label>

          <label class="lab-label">Mesh Resolution
            <input id="meshRange" type="range" min="1" max="3" step="1" value="2">
            <span class="range-meta" id="meshLabel">Medium</span>
          </label>

          <label class="lab-label">Mesh Offset
            <input id="offsetRange" type="range" min="0" max="1" step="0.05" value="0.25">
            <span class="range-meta" id="offsetLabel">0.25</span>
          </label>

          <label class="lab-label">Mesh Cutoff
            <input id="cutoffRange" type="range" min="0.02" max="0.20" step="0.01" value="0.08">
            <span class="range-meta" id="cutoffLabel">0.08</span>
          </label>

          <div class="lab-actions">
            <button class="lab-btn" id="resetLab" type="button">Reset Scenario</button>
          </div>
        </div>

        <div class="lab-visual">
          <svg id="meshSvg" class="mesh-svg" viewBox="0 0 420 300" role="img" aria-label="Interactive geospatial mesh and cluster preview"></svg>
          <p class="lab-caption" id="labCaption"></p>
          <p class="lab-caption"><strong>Point legend:</strong> green = vaccinated=1 majority in cluster, red = unvaccinated majority (vaccinated=0). Radius scales with cluster sample size.</p>
        </div>
      </div>

      <div class="metric-grid">
        <div class="metric-card">
          <p class="metric-label">Mesh Nodes (Est.)</p>
          <p class="metric-value" id="nodesVal">-</p>
          <p class="metric-delta" id="nodesDelta">-</p>
        </div>
        <div class="metric-card">
          <p class="metric-label">Mean Edge (km)</p>
          <p class="metric-value" id="edgeVal">-</p>
          <p class="metric-delta" id="edgeDelta">-</p>
        </div>
        <div class="metric-card">
          <p class="metric-label">Expected RMSE</p>
          <p class="metric-value" id="rmseVal">-</p>
          <p class="metric-delta" id="rmseDelta">-</p>
        </div>
        <div class="metric-card">
          <p class="metric-label">Uncertainty Index U</p>
          <p class="metric-value" id="uncVal">-</p>
          <p class="metric-delta" id="uncDelta">-</p>
        </div>
        <div class="metric-card">
          <p class="metric-label">Coldspot Stability</p>
          <p class="metric-value" id="stabilityVal">-</p>
          <p class="metric-delta" id="stabilityDelta">-</p>
        </div>
        <div class="metric-card">
          <p class="metric-label">Expected PPC95</p>
          <p class="metric-value" id="ppcVal">-</p>
          <p class="metric-delta" id="ppcDelta">-</p>
        </div>
      </div>

      <div class="cluster-grid">
        <div class="metric-card">
          <p class="metric-label">Clusters (Actual Data)</p>
          <p class="metric-value" id="clusterCountVal">-</p>
          <p class="metric-delta">Selected survey geolocated clusters</p>
        </div>
        <div class="metric-card">
          <p class="metric-label">Children (n)</p>
          <p class="metric-value" id="childNVal">-</p>
          <p class="metric-delta">Selected state + vaccine</p>
        </div>
        <div class="metric-card">
          <p class="metric-label">Vaccinated (Vaccinated=1)</p>
          <p class="metric-value" id="oneVal">-</p>
          <p class="metric-delta" id="oneShareVal">-</p>
        </div>
        <div class="metric-card">
          <p class="metric-label">Unvaccinated (Vaccinated=0)</p>
          <p class="metric-value" id="zeroVal">-</p>
          <p class="metric-delta" id="zeroShareVal">-</p>
        </div>
        <div class="metric-card">
          <p class="metric-label">Cluster Mean Coverage</p>
          <p class="metric-value" id="clusterMeanVal">-</p>
          <p class="metric-delta">Mean of cluster-level rates</p>
        </div>
      </div>

      <div class="mini-chart">
        <h3>Uncertainty by Mesh Resolution (Current State/Model/Regime)</h3>
        <div class="bar-grid">
          <div class="bar-row" id="rowSparse">
            <span>Sparse</span>
            <span class="bar-track"><span class="bar-fill" id="barSparse"></span></span>
            <span id="barSparseVal">-</span>
          </div>
          <div class="bar-row" id="rowMedium">
            <span>Medium</span>
            <span class="bar-track"><span class="bar-fill" id="barMedium"></span></span>
            <span id="barMediumVal">-</span>
          </div>
          <div class="bar-row" id="rowFine">
            <span>Fine</span>
            <span class="bar-track"><span class="bar-fill" id="barFine"></span></span>
            <span id="barFineVal">-</span>
          </div>
        </div>
      </div>

      <div class="variation-list">
        <h3>What Varies and Why</h3>
        <ul id="variationBullets"></ul>
      </div>
    </section>

    <div class="lab-guide-popup" id="labGuidePopup" aria-hidden="true">
      <button class="lab-guide-backdrop" id="labGuideBackdrop" type="button" aria-label="Close impact popup"></button>
      <section class="lab-guide-card" role="dialog" aria-modal="true" aria-labelledby="labGuideTitle">
        <button class="lab-guide-close" id="labGuideClose" type="button" aria-label="Close">&times;</button>
        <p class="lab-guide-tag" id="labGuideTag"></p>
        <h3 id="labGuideTitle"></h3>
        <p class="lab-guide-prompt" id="labGuidePrompt"></p>
        <div class="lab-guide-options" id="labGuideOptions"></div>
        <p class="lab-guide-result" id="labGuideResult"></p>
        <div class="lab-guide-answer" id="labGuideAnswer" hidden>
          <p id="labGuideAnswerText"></p>
          <ul id="labGuideImpactList"></ul>
        </div>
      </section>
    </div>

    <section class="card">
      <h2>3) Spatial Scale and Why It Works</h2>
      <p>This pipeline is interpretable because each scale answers a different operational question, from observed evidence to planning-level allocation.</p>

      <div class="interp-grid">
        <article class="interp-card">
          <h3>Cluster Evidence Scale</h3>
          <p>At survey-cluster points, we observe children with binary vaccine status. This is the direct field signal.</p>
          <div class="eq-block">
            <p class="eq-title">Observed cluster proportion</p>
            <div class="eq-math">
              <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                <msub>
                  <mover><mi>p</mi><mo>^</mo></mover>
                  <mi>i</mi>
                </msub>
                <mo>=</mo>
                <mfrac>
                  <msub><mi>y</mi><mi>i</mi></msub>
                  <msub><mi>n</mi><mi>i</mi></msub>
                </mfrac>
              </math>
            </div>
          </div>
          <p class="interp-note">Interpretation: where <code>n<sub>i</sub></code> is small, raw proportions are noisy and should not be used alone.</p>
        </article>

        <article class="interp-card">
          <h3>Grid Prediction Scale</h3>
          <p>Predictions are generated on dense grid cells inside state boundaries, combining covariates and spatial structure.</p>
          <div class="eq-block">
            <p class="eq-title">Predicted grid probability</p>
            <div class="eq-math">
              <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                <msub>
                  <mover><mi>p</mi><mo>^</mo></mover>
                  <mi>g</mi>
                </msub>
                <mo>=</mo>
                <msup>
                  <mi>logit</mi>
                  <mrow><mo>-</mo><mn>1</mn></mrow>
                </msup>
                <mo>(</mo>
                <msup><msub><mi>x</mi><mi>g</mi></msub><mi>T</mi></msup>
                <mi>&beta;</mi>
                <mo>+</mo>
                <mi>w</mi><mo>(</mo><msub><mi>s</mi><mi>g</mi></msub><mo>)</mo>
                <mo>+</mo>
                <msub><mi>u</mi><mrow><mtext>state</mtext><mo>(</mo><mi>g</mi><mo>)</mo></mrow></msub>
                <mo>+</mo>
                <msub><mi>u</mi><mrow><mtext>district</mtext><mo>(</mo><mi>g</mi><mo>)</mo></mrow></msub>
                <mo>)</mo>
              </math>
            </div>
          </div>
          <p class="interp-note">Interpretation: this surface reveals hyper-local continuity gaps that state averages hide.</p>
        </article>

        <article class="interp-card">
          <h3>State Summary Scale</h3>
          <p>Grid outputs are aggregated into state-level summaries for planning and inter-state comparison.</p>
          <div class="eq-block">
            <p class="eq-title">Population-weighted state estimate</p>
            <div class="eq-math">
              <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                <msub>
                  <mover><mi>P</mi><mo>^</mo></mover>
                  <mtext>state</mtext>
                </msub>
                <mo>=</mo>
                <mfrac>
                  <mrow>
                    <msub><mo>&sum;</mo><mrow><mi>g</mi><mo>&isin;</mo><mtext>state</mtext></mrow></msub>
                    <msub><mi>N</mi><mi>g</mi></msub>
                    <msub><mover><mi>p</mi><mo>^</mo></mover><mi>g</mi></msub>
                  </mrow>
                  <mrow>
                    <msub><mo>&sum;</mo><mrow><mi>g</mi><mo>&isin;</mo><mtext>state</mtext></mrow></msub>
                    <msub><mi>N</mi><mi>g</mi></msub>
                  </mrow>
                </mfrac>
              </math>
            </div>
          </div>
          <p class="interp-note">Interpretation: summary values are policy-facing, while maps preserve local targeting fidelity.</p>
        </article>
      </div>

      <h3>Why This Scale Design Works</h3>
      <ul>
        <li><strong>Signal retention:</strong> cluster-level observations preserve real survey variation.</li>
        <li><strong>Noise control:</strong> spatial pooling reduces instability in sparse areas.</li>
        <li><strong>Actionability:</strong> grid maps guide micro-targeting; state summaries guide budgeting and monitoring.</li>
        <li><strong>Interpretability:</strong> each output can be traced back to observed child-level evidence.</li>
      </ul>
    </section>

    <section class="card" id="core-model">
      <h2>4) Core Statistical Model: spGLM vs INLA-SPDE</h2>
      <p>This section is interactive by design. Read the basic explanation first, then tap a question to open detailed mathematical modeling, comparison logic, and strengths-versus-limitations.</p>

      <div class="model-basics">
        <article class="model-card">
          <h3>spGLM (Gaussian Process Logistic Model)</h3>
          <p><strong>Basic explanation:</strong> spGLM models vaccination probability with a logistic link and a spatial Gaussian process that captures distance-driven similarity between clusters.</p>
          <div class="eq-block">
            <p class="eq-title">Core predictor form</p>
            <div class="eq-math">
              <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                <mrow>
                  <mi>logit</mi><mo>(</mo><msub><mi>p</mi><mi>i</mi></msub><mo>)</mo>
                  <mo>=</mo>
                  <msup><msub><mi>x</mi><mi>i</mi></msub><mi>T</mi></msup><mi>&beta;</mi>
                  <mo>+</mo><mi>w</mi><mo>(</mo><msub><mi>s</mi><mi>i</mi></msub><mo>)</mo>
                </mrow>
              </math>
            </div>
          </div>
          <div class="model-actions">
            <button class="model-q-btn" type="button" data-topic="spglm_math">Want detailed mathematical modeling for spGLM?</button>
            <button class="model-q-btn" type="button" data-topic="spglm_strengths">Strengths and limits of spGLM?</button>
          </div>
        </article>

        <article class="model-card">
          <h3>INLA-SPDE (Mesh-Based Bayesian Approximation)</h3>
          <p><strong>Basic explanation:</strong> INLA-SPDE represents the spatial field on a triangulated mesh and performs fast approximate Bayesian inference using sparse precision matrices.</p>
          <div class="eq-block">
            <p class="eq-title">Core predictor form</p>
            <div class="eq-math">
              <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                <mrow>
                  <msub><mi>&eta;</mi><mi>i</mi></msub>
                  <mo>=</mo>
                  <msup><msub><mi>x</mi><mi>i</mi></msub><mi>T</mi></msup><mi>&beta;</mi>
                  <mo>+</mo><msub><mi>A</mi><mrow><mi>i</mi><mo>&#183;</mo></mrow></msub><mi>&omega;</mi>
                  <mo>,</mo>
                  <msub><mi>p</mi><mi>i</mi></msub><mo>=</mo><msup><mi>logit</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>(</mo><msub><mi>&eta;</mi><mi>i</mi></msub><mo>)</mo>
                </mrow>
              </math>
            </div>
          </div>
          <div class="model-actions">
            <button class="model-q-btn" type="button" data-topic="inla_math">Want detailed mathematical modeling for INLA-SPDE?</button>
            <button class="model-q-btn" type="button" data-topic="inla_strengths">Strengths and limits of INLA-SPDE?</button>
          </div>
        </article>
      </div>

      <div class="model-compare-panel">
        <h3>Compare Both Methods</h3>
        <p>Comparing both is essential for robustness. Agreement indicates stable signal, while disagreement signals model-sensitive or data-sparse areas that need cautious interpretation.</p>
        <div class="model-actions">
          <button class="model-q-btn" type="button" data-topic="compare_why">Why should we compare spGLM and INLA-SPDE?</button>
          <button class="model-q-btn" type="button" data-topic="compare_interpret">How should agreement vs disagreement be interpreted?</button>
        </div>
      </div>

      <div class="table-wrap">
        <table class="table">
          <thead>
            <tr>
              <th>Dimension</th>
              <th>spGLM</th>
              <th>INLA-SPDE</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Spatial representation</td>
              <td>Dense Gaussian process covariance</td>
              <td>Mat&#233;rn field via sparse mesh representation</td>
            </tr>
            <tr>
              <td>Inference style</td>
              <td>Posterior sampling / optimization over GP structure</td>
              <td>Integrated Nested Laplace Approximation</td>
            </tr>
            <tr>
              <td>Scaling profile</td>
              <td>Heavier for large cluster counts</td>
              <td>Typically faster for large geographies</td>
            </tr>
            <tr>
              <td>Primary risk</td>
              <td>Compute burden</td>
              <td>Approximation and mesh-choice sensitivity</td>
            </tr>
          </tbody>
        </table>
      </div>

      <p class="note"><strong>Decision rule:</strong> prioritize hotspots that remain high-risk under both models; route high-disagreement locations to uncertainty-aware field validation.</p>
    </section>

    <div class="model-popup" id="modelPopup" aria-hidden="true">
      <button class="model-popup-backdrop" id="modelPopupBackdrop" type="button" aria-label="Close model details"></button>
      <section class="model-popup-card" role="dialog" aria-modal="true" aria-labelledby="modelPopupTitle">
        <button class="model-popup-close" id="modelPopupClose" type="button" aria-label="Close">&times;</button>
        <p class="model-popup-tag" id="modelPopupTag"></p>
        <h3 id="modelPopupTitle"></h3>
        <p class="model-popup-intro" id="modelPopupIntro"></p>
        <div class="model-popup-body" id="modelPopupBody"></div>
      </section>
    </div>

    <section class="card two-col">
      <div>
        <h2>5) Spatial Dependence and Mesh Construction</h2>
        <p>Adjacency is encoded through coordinate-driven mesh projection, not polygon-neighbor lists.</p>
        <div class="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mi>M</mi><mo>=</mo><mo>(</mo><mi>V</mi><mo>,</mo><mi>T</mi><mo>)</mo>
              <mo>,</mo>
              <mi>V</mi><mo>=</mo><mtext>mesh vertices</mtext>
              <mo>,</mo>
              <mi>T</mi><mo>=</mo><mtext>triangles</mtext>
            </mrow>
          </math>
        </div>
        <div class="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mi>A</mi><mo>=</mo><mi>A</mi><mo>(</mo><mi>loc</mi><mo>,</mo><mi>M</mi><mo>)</mo>
            </mrow>
          </math>
        </div>
        <div class="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mi>w</mi><mo>(</mo><mi>s</mi><mo>)</mo><mo>&asymp;</mo>
              <munderover><mo>&sum;</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></munderover>
              <msub><mi>&psi;</mi><mi>k</mi></msub><mo>(</mo><mi>s</mi><mo>)</mo>
              <msub><mi>&omega;</mi><mi>k</mi></msub>
            </mrow>
          </math>
        </div>
        <p>Raster multilevel labels are propagated through nearest-neighbor assignment for state/district factors.</p>
      </div>
      <div>
        <h2>6) Matérn-SPDE Formulation</h2>
        <div class="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <msup>
                <mrow><mo>(</mo><msup><mi>&kappa;</mi><mn>2</mn></msup><mo>-</mo><mi>&Delta;</mi><mo>)</mo></mrow>
                <mrow><mi>&alpha;</mi><mo>/</mo><mn>2</mn></mrow>
              </msup>
              <mi>w</mi><mo>(</mo><mi>s</mi><mo>)</mo>
              <mo>=</mo>
              <mi>W</mi><mo>(</mo><mi>s</mi><mo>)</mo>
            </mrow>
          </math>
        </div>
        <div class="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mi>&omega;</mi><mo>&sim;</mo>
              <mi>N</mi>
              <mo>(</mo>
              <mn>0</mn><mo>,</mo>
              <msup><mi>Q</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup>
              <mo>(</mo><mi>&kappa;</mi><mo>,</mo><mi>&tau;</mi><mo>)</mo>
              <mo>)</mo>
            </mrow>
          </math>
        </div>
        <p>This produces a sparse Gaussian Markov random field representation compatible with INLA.</p>
        <h3>Boundary/Sparse Handling</h3>
        <ul>
          <li>Mesh clipped to raster boundary polygon.</li>
          <li><code>offset</code>, <code>cutoff</code>, and <code>max.edge</code> tuned for stable triangulation.</li>
          <li>NA raster cells excluded from prediction domain.</li>
        </ul>
      </div>
    </section>

    <section class="card">
      <h2>7) Covariates: Spatial vs Non-Spatial</h2>
      <p><strong>Spatial component:</strong> latent field driven by longitude/latitude through SPDE mesh.</p>
      <p><strong>Non-spatial component:</strong> cluster-aggregated socioeconomic and service-use predictors (wealth, education, access barriers, maternal-care proxies), with optional iid hierarchical effects for State/District/Region.</p>
    </section>

    <section class="card two-col">
      <div>
        <h2>8) Uncertainty Mapping</h2>
        <p>Prediction exports include:</p>
        <ul>
          <li>posterior mean</li>
          <li>standard deviation</li>
          <li>2.5th and 97.5th posterior quantiles</li>
          <li>relative uncertainty ratio</li>
        </ul>
        <div class="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <msub><mi>U</mi><mi>g</mi></msub>
              <mo>=</mo>
              <mfrac>
                <msub><mi>sd</mi><mi>g</mi></msub>
                <msub><mi>&mu;</mi><mi>g</mi></msub>
              </mfrac>
            </mrow>
          </math>
        </div>
        <p>High <code>U_g</code> indicates unstable estimates requiring cautious interpretation.</p>
      </div>
      <div>
        <h2>9) Diagnostics and Fit Comparison</h2>
        <p>Current diagnostics include coverage/error/correlation summaries and CI checks; explicit residual Moran's I/variogram diagnostics are not yet fully automated in the committed pipeline.</p>
        <div class="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mi>RMSE</mi><mo>=</mo>
              <msqrt>
                <mrow>
                  <mfrac><mn>1</mn><mi>N</mi></mfrac>
                  <munderover><mo>&sum;</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover>
                  <msup>
                    <mrow>
                      <mo>(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>-</mo><msub><mover><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mo>)</mo>
                    </mrow>
                    <mn>2</mn>
                  </msup>
                </mrow>
              </msqrt>
            </mrow>
          </math>
        </div>
        <div class="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mi>Corr</mi><mo>=</mo><mi>cor</mi><mo>(</mo><mi>y</mi><mo>,</mo><mover><mi>y</mi><mo>^</mo></mover><mo>)</mo>
            </mrow>
          </math>
        </div>
        <div class="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <msub><mi>Coverage</mi><mn>95</mn></msub><mo>=</mo>
              <mfrac><mn>1</mn><mi>N</mi></mfrac>
              <munderover><mo>&sum;</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover>
              <mtext>1</mtext>
              <mo>[</mo>
              <msub><mi>y</mi><mi>i</mi></msub>
              <mo>&isin;</mo>
              <mo>[</mo><msub><mi>q</mi><mrow><mn>0.025</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>q</mi><mrow><mn>0.975</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>]</mo>
              <mo>]</mo>
            </mrow>
          </math>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>10) Maternal Recall Sensitivity (MR=0 vs MR=1)</h2>
      <p>The pipeline explicitly tests data-source sensitivity by toggling maternal recall inclusion. For MCV1, MR=1 improved fit and reduced uncertainty in both NFHS rounds:</p>
      <div class="table-wrap">
        <table class="table">
          <thead>
            <tr>
              <th>Survey</th>
              <th>Metric</th>
              <th>MR=0</th>
              <th>MR=1</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>NFHS-4</td>
              <td>RMSE</td>
              <td>0.388</td>
              <td>0.295</td>
            </tr>
            <tr>
              <td>NFHS-4</td>
              <td>Uncertainty</td>
              <td>0.443</td>
              <td>0.241</td>
            </tr>
            <tr>
              <td>NFHS-5</td>
              <td>RMSE</td>
              <td>0.272</td>
              <td>0.253</td>
            </tr>
            <tr>
              <td>NFHS-5</td>
              <td>Uncertainty</td>
              <td>0.254</td>
              <td>0.173</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="card">
      <h2>11) Persistent Coldspots Across Survey Rounds</h2>
      <h3>MCV1 Persistent Low-Coverage States (MR=1)</h3>
      <p>Arunachal Pradesh, Assam, Manipur, Meghalaya, Mizoram, Nagaland, Tripura, Uttar Pradesh.</p>
      <h3>DPT3 Persistent Low-Coverage States (MR=1)</h3>
      <p>Arunachal Pradesh, Assam, Meghalaya, Mizoram, Nagaland, Tripura, Uttar Pradesh.</p>
      <p class="note">These persistent patterns are useful for continuity-focused policy planning across survey waves.</p>
    </section>

    <section class="card two-col">
      <div>
        <h2>12) Current Gaps and Risk Sources</h2>
        <ul>
          <li>No fully automated prior-sensitivity sweep in the current committed workflow.</li>
          <li>No full posterior variance-partition report for spatial-effect share yet.</li>
          <li>Largest data-quality risk: cluster geolocation uncertainty and key harmonization mismatch.</li>
        </ul>
      </div>
      <div>
        <h2>13) Planning Integration and First-Use Map</h2>
        <p>Pipeline already exports planning-ready raster/TIFF products: coverage, uncertainty, missed-cluster and error maps.</p>
        <p><strong>First map to use:</strong> DPT1 to DPT3 dropout probability map under MR=1, with uncertainty overlay. This is operationally high-value because it isolates service-continuity failure after first contact.</p>
      </div>
    </section>

    <section class="card">
      <h2>14) One-Sentence Policy Contribution</h2>
      <p class="note">The project provides uncertainty-aware, cluster-to-grid geospatial estimates that distinguish stable versus unstable low-coverage pockets, enabling state programs to prioritize continuity gaps and maternal-recall-sensitive hotspots with greater confidence.</p>
    </section>
  </main>

  <p class="footer">Project Page · Ritika Singh · <a href="../index.html#projects">Return to portfolio</a></p>
</div>
<script src="../js/geospatial-lab.js"></script>
<script src="../js/geospatial-recap.js"></script>
<script src="../js/geospatial-lab-guide.js"></script>
<script src="../js/geospatial-model-popups.js"></script>
</body>
</html>
